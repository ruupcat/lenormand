<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grand Tableau</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            padding: 10px;
            min-height: 100vh;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 15px; color: #e94560; font-size: 1.4em; letter-spacing: 2px; }

        .panorama-row {
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.03);
            padding: 8px;
            border-radius: 12px;
        }
        .row-label {
            font-size: 0.75em;
            font-weight: bold;
            margin-bottom: 8px;
            color: #4ecca3;
            border-left: 3px solid #4ecca3;
            padding-left: 8px;
            opacity: 0.8;
        }

        .grid-layout { display: grid; gap: 4px; }
        .grid-8 { grid-template-columns: repeat(8, 1fr); }
        .grid-4 { 
            grid-template-columns: repeat(4, 1fr); 
            width: 50%; 
            margin: 0 auto; 
        }

        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
            width: 100%;
            aspect-ratio: 2 / 3;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            overflow: hidden;
            padding: 2px;
        }

        .card-symbol { font-size: 1.3em; margin-bottom: 2px; }
        
        /* ÊñáÂ≠óÊï∞„Å´„Çà„Å£„Å¶„Çµ„Ç§„Ç∫„ÇíÂ§â„Åà„Çã„Åü„ÇÅ„ÅÆ„ÇØ„É©„Çπ */
        .card-name { 
            font-weight: bold; 
            white-space: nowrap; 
            font-size: 0.65em; /* Âü∫Êú¨„Çµ„Ç§„Ç∫ */
        }
        .card-name.long { font-size: 0.55em; } /* 4ÊñáÂ≠ó‰ª•‰∏ä„ÅÆÊôÇ */

        .card-no { font-size: 0.5em; opacity: 0.5; margin-top: 1px; }

        .button-container { text-align: center; margin-top: 20px; padding-bottom: 40px; }
        button {
            background: #e94560;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 0.9em;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(233, 69, 96, 0.3);
        }

        @media (max-width: 768px) {
            .grid-8 { gap: 2px; }
            .grid-4 { width: 100%; gap: 2px; }
            .card-symbol { font-size: 1.1em; }
            h1 { font-size: 1.2em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Grand Tableau</h1>
        <div id="tableau"></div>
        <div class="button-container">
            <button onclick="spreadGrandTableau()">SHUFFLE</button>
        </div>
    </div>

    <script>
        const cards = [
            { id: 1, name: "È®éÂ£´", symbol: "üèá" }, { id: 2, name: "„ÇØ„É≠„Éº„Éê„Éº", symbol: "üçÄ" },
            { id: 3, name: "Ëàπ", symbol: "‚õµ" }, { id: 4, name: "ÂÆ∂", symbol: "üè†" },
            { id: 5, name: "Êú®", symbol: "üå≥" }, { id: 6, name: "Èõ≤", symbol: "‚òÅÔ∏è" },
            { id: 7, name: "Ëõá", symbol: "üêç" }, { id: 8, name: "Ê£∫", symbol: "‚ö∞Ô∏è" },
            { id: 9, name: "Ëä±Êùü", symbol: "üíê" }, { id: 10, name: "Èéå", symbol: "‚öîÔ∏è" },
            { id: 11, name: "Èû≠", symbol: "üî®" }, { id: 12, name: "È≥•", symbol: "üïäÔ∏è" },
            { id: 13, name: "Â≠ê‰æõ", symbol: "üë∂" }, { id: 14, name: "„Ç≠„ÉÑ„Éç", symbol: "ü¶ä" },
            { id: 15, name: "ÁÜä", symbol: "üêª" }, { id: 16, name: "Êòü", symbol: "‚≠ê" },
            { id: 17, name: "„Ç≥„Ç¶„Éé„Éà„É™", symbol: "ü¶¢" }, { id: 18, name: "Áä¨", symbol: "üêï" },
            { id: 19, name: "Â°î", symbol: "üèõÔ∏è" }, { id: 20, name: "Â∫≠Âúí", symbol: "üå∏" },
            { id: 21, name: "Â±±", symbol: "‚õ∞Ô∏è" }, { id: 22, name: "ÈÅì", symbol: "üõ§Ô∏è" },
            { id: 23, name: "„Éç„Ç∫„Éü", symbol: "üê≠" }, { id: 24, name: "„Éè„Éº„Éà", symbol: "‚ù§Ô∏è" },
            { id: 25, name: "ÊåáËº™", symbol: "üíç" }, { id: 26, name: "Êú¨", symbol: "üìñ" },
            { id: 27, name: "ÊâãÁ¥ô", symbol: "üìù" }, { id: 28, name: "Á¥≥Â£´", symbol: "üë®" },
            { id: 29, name: "Ê∑ëÂ•≥", symbol: "üë©" }, { id: 30, name: "ÁôæÂêà", symbol: "‚öúÔ∏è" },
            { id: 31, name: "Â§™ÈôΩ", symbol: "‚òÄÔ∏è" }, { id: 32, name: "Êúà", symbol: "üåô" },
            { id: 33, name: "Èçµ", symbol: "üîë" }, { id: 34, name: "È≠ö", symbol: "üêü" },
            { id: 35, name: "Èå®", symbol: "‚öì" }, { id: 36, name: "ÂçÅÂ≠óÊû∂", symbol: "‚úùÔ∏è" }
        ];

        function shuffle(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function createCardHtml(card) {
            // ÊñáÂ≠óÊï∞„Åå4ÊñáÂ≠ó‰ª•‰∏ä„Å™„Çâ 'long' „ÇØ„É©„Çπ„Çí‰ªò‰∏é
            const nameClass = card.name.length >= 4 ? "card-name long" : "card-name";
            return `
                <div class="card">
                    <div class="card-symbol">${card.symbol}</div>
                    <div class="${nameClass}">${card.name}</div>
                    <div class="card-no">${card.id}</div>
                </div>
            `;
        }

        function spreadGrandTableau() {
            const shuffled = shuffle(cards);
            const tableau = document.getElementById('tableau');
            tableau.innerHTML = '';

            const rowLabels = ["1st Row: Background", "2nd Row: Current Theme", "3rd Row: Near Future", "4th Row: Conclusion"];
            
            for (let i = 0; i < 4; i++) {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'panorama-row';
                rowDiv.innerHTML = `<div class="row-label">${rowLabels[i]}</div>`;
                const grid = document.createElement('div');
                grid.className = 'grid-layout grid-8';
                for (let j = 0; j < 8; j++) {
                    grid.innerHTML += createCardHtml(shuffled[i * 8 + j]);
                }
                rowDiv.appendChild(grid);
                tableau.appendChild(rowDiv);
            }

            const finalRowDiv = document.createElement('div');
            finalRowDiv.className = 'panorama-row';
            finalRowDiv.innerHTML = `<div class="row-label">Destiny 4 Cards</div>`;
            const finalGrid = document.createElement('div');
            finalGrid.className = 'grid-layout grid-4';
            for (let k = 32; k < 36; k++) {
                finalGrid.innerHTML += createCardHtml(shuffled[k]);
            }
            finalRowDiv.appendChild(finalGrid);
            tableau.appendChild(finalRowDiv);
        }

        spreadGrandTableau();
    </script>
</body>
</html>
